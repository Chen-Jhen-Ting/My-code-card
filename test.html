<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="./codemirror-5.57.0/lib/codemirror.js"></script>
  <link rel="stylesheet" href="./codemirror-5.57.0/lib/codemirror.css">
  <script src="./codemirror-5.57.0/mode/javascript/javascript.js"></script>
  <script src="./codemirror-5.57.0/mode/ruby/ruby.js"></script>

  <style>
    .wrap {
      border: 2px solid #ccc;
    }
  </style>
  <title>Document</title>
</head>


<body>
  <button>javascript</button>
 <a href="#">sss</a>
  <div class="wrap">
    <!-- <textarea name="" id="" cols="30" rows="10"></textarea> -->
  </div>
  <div id="bbb"></div>
</body>

<script>
  window.addEventListener('DOMContentLoaded', function () {
    let wrap = document.querySelector('.wrap')
    // let textArea = document.querySelector('textarea')
    let btn = document.querySelector('button')
    let value = btn.innerText

    // 宣告 編輯器的設定 (obj)
    let editorConfig = {
      mode: "ruby", //給予預設值
      lint: true,
      lineNumbers: true,
      theme: 'default',
      value: "function(){console.log('hi!')}"
    }


    // 將編輯器放到warp下面
    var myCodeMirror = CodeMirror(wrap, editorConfig );

    btn.addEventListener('click', (e) => {
      myCodeMirror.setOption('mode', btn.innerText)

      let codes = myCodeMirror.getValue()

      obj = {codes: codes}
      document.querySelector('#bbb').textContent = obj.codes
    })


  })
</script>

</html>
